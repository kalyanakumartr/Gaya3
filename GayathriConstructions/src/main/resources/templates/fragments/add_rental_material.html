
<div class="container">
	<div class="card card-custom">
		<div class="card-body p-0">
			<div class="row justify-content-center pt-8 px-8 pt-md-5 px-md-0">
				<div class="col-md-11">
					<div class="row" th:if="${disableAdd eq false}">
						<div class="col-lg-4">
							<label class="font-size-lg font-weight-bold">&nbsp;Material Name</label> 
							<select class="form-control materialInfo" id="materialInfo" name="materialInfo"  th:disabled="${disableAdd}">
								<option th:each="lv: ${materialList}" th:value="${lv.value}" th:utext="${lv.label}"></option> 
							</select>
						</div>
						<div class="col-lg-2">
							<label class="font-size-lg font-weight-bold">Quantity</label>
							<input type="number" class="form-control quantity text-center" id="quantity" name="quantity"  th:disabled="${disableAdd}" />
							<input type="hidden" class="form-control" id="availableQuantity" name="availableQuantity" value="0"/>
						</div>
						<div class="col-lg-2">
							<label class="font-size-lg font-weight-bold">Unit Price</label>
							 <input type="number" class="form-control price text-center" id="price" name="price"  th:disabled="${disableAdd}" />
							 <input type="hidden" class="form-control" id="actualPrice" name="actualPrice" value="0"/>
						</div>
						<div class="col-lg-2">
							<label class="font-size-lg font-weight-bold">Total Cost</label> 
							<input type="number" class="form-control text-right" id="totalCost" name="totalCost" disabled="disabled"/> 
							<input type="hidden" id="rentalId" name="rentalId" th:value="${rentalId}" />
						</div>
						<div class="col-lg-2">
							<label class="font-size-lg font-weight-bold">&nbsp;</label> <br />
							<button type="button" id="addButton" class="btn btn-primary btn-elevate" th:disabled="${disableAdd}" onclick="addItemsToRental();" >Add</button>
						</div>
					</div>
					<div class="row pb-2 pt-8 px-8 pt-md-5 px-md-0">
						<div class="col-lg-12">
							<div class="row">
								<div class="col-md-12 py-md-2 pr-md-2">
									<div class="table-responsive">
										<table class="table">
											<thead>
												<tr class='font-weight-bold font-size-sm border'>
													<th class="pt-1 text-center font-weight-boldest text-muted font-size-lg text-uppercase">Sno</th>
													<th class="pt-1 text-left font-weight-boldest text-muted font-size-lg text-uppercase">Item Name</th>
													<th class="pt-1 text-center font-weight-boldest text-muted font-size-lg text-uppercase">Quantity</th>
													<th class="pt-1 text-right font-weight-boldest text-muted font-size-lg text-uppercase">Rate</th>
													<th class="pt-1 text-right font-weight-boldest text-muted font-size-lg text-uppercase">Amount</th>
													<th class="pt-1 text-right font-weight-boldest text-muted font-size-lg text-uppercase" th:if="${disableAdd eq false}">Delete</th>
												</tr>
											</thead>
											<tbody>
			
												<tr th:each="item, itemStat : ${items}" th:attr="class='font-weight-bold font-size-sm border'">
													<td class="m-grid-col m-grid-col-middle m-grid-col-center" th:text="${itemStat.index+1}" />
													<td class="m-grid-col m-grid-col-middle m-grid-col-center" th:text="${item.inventory.material.materialName}" />
													<td class="m-grid-col m-grid-col-middle m-grid-col-center text-center" th:text="${item.quantity}" />
													<td class="m-grid-col m-grid-col-middle m-grid-col-center text-right" th:utext="${item.getPrice$()}" />
													<td class="m-grid-col m-grid-col-middle m-grid-col-center text-right" th:utext="${item.getTotalCost$() + '&nbsp;'}" />
													<td class="m-grid-col m-grid-col-middle m-grid-col-center text-center" th:if="${disableAdd eq false}">
														<a href="javascript:;" th:data-id="${item.itemId}" class="btn btn-sm btn-clean btn-text-light-danger btn-hover-danger btn-icon me-2 removeItems" title="Remove Rental Items" th:disabled="${disableAdd}">
														<span class="svg-icon svg-icon-primary svg-icon-2x"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
													    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
													        <rect x="0" y="0" width="24" height="24"/>
													        <path d="M6,8 L18,8 L17.106535,19.6150447 C17.04642,20.3965405 16.3947578,21 15.6109533,21 L8.38904671,21 C7.60524225,21 6.95358004,20.3965405 6.89346498,19.6150447 L6,8 Z M8,10 L8.45438229,14.0894406 L15.5517885,14.0339036 L16,10 L8,10 Z" fill="#000000" fill-rule="nonzero"/>
													        <path d="M14,4.5 L14,3.5 C14,3.22385763 13.7761424,3 13.5,3 L10.5,3 C10.2238576,3 10,3.22385763 10,3.5 L10,4.5 L5.5,4.5 C5.22385763,4.5 5,4.72385763 5,5 L5,5.5 C5,5.77614237 5.22385763,6 5.5,6 L18.5,6 C18.7761424,6 19,5.77614237 19,5.5 L19,5 C19,4.72385763 18.7761424,4.5 18.5,4.5 L14,4.5 Z" fill="#000000" opacity="0.3"/>
													    </g>
													</svg><!--end::Svg Icon--></span></a></td>
												</tr>
												<tr>
													<td class="text-right font-weight-bolder text-right py-1"></td>
													<td class="text-right py-1"></td>
													<td class="text-right py-1"></td>
													<td class="text-right font-weight-bolder text-right py-1">Total Amount</td>
													<td class="pr-0 py-4 font-weight-bold text-right" th:utext="${itemsTotalCost$ + '&nbsp;'}" />
													<td class="text-right py-1"></td>
												</tr>
											</tbody>
										</table>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="modal-footer">
					  <div class="row">
						  <div class="col-lg-3">
						  	<label class="font-size-lg font-weight-bold">Advance Amount</label>
			              </div>
			              <div class="col-lg-4">
						  	<input type="number" class="form-control advanceAmount text-right input-sm" id="advanceAmount" name="advanceAmount"  th:disabled="${disableAdd}" th:value="${advanceAmount}"/>
			              </div>
			              <div class="col-lg-3">
			              	<button type="button" id="finalize-btn" class="btn btn-light-info font-weight-bold" onclick="finalizeRental();" th:disabled="${disableAdd}" >Finalize Rental</button>
			              </div>
			              <div class="col-lg-2">
			              	<button type="button" class="btn btn-light-primary font-weight-bold" data-dismiss="modal">Close</button>
			              </div>
		         	</div>
				</div>
			</div>
		</div>
	</div>
</div>

